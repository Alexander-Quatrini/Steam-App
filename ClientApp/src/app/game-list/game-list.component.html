
<div *ngIf="!noGameList; else problem_loading">
    <div class="container">
        <h3 class="text-center">Game List For {{personaName}}</h3>

        <ng-container *ngIf="loading">
            <div class="my-5 p-3 border-start border-info bg-dark">
                <b class="display-5">Fetching Game List...</b>
                <div class="lds-ring"><div></div><div></div><div></div><div></div></div>
            </div>
        </ng-container>

            <p class="text-muted float-end">Showing games {{(currentPage - 1) * 15 + 1}}-{{currentPage * 15}} of {{currentGameList.game_count}}</p>
            <table class="table table-dark table-bordered min-vh-100">
                <th (click)="sortList('appid', false)">App ID</th>
                <th (click)="sortList('gamename', false)">Game Name &#9650;</th>
                <th (click)="sortList('playtime', false)">Hours Played</th>

                <tr *ngFor="let item of currentGameList.games">

                    <td>{{item.appid}}</td>
                    <td><img src="http://media.steampowered.com/steamcommunity/public/images/apps/{{item.appid}}/{{item.img_icon_url}}.jpg"/> {{item.name}}</td>
                    <td>{{item.playtime_forever}}</td>
        
                </tr>
            </table>
        <nav aria-details="Game List Navigation">
            <ul class="pagination pagination-lg justify-content-center">
                <li class="page-item {{linkArray[0] == 1 ? 'disabled hidden' : ''}}"><a class="page-link" 
                    (click)="currentPage = 1; currentGameList = getPageOfItems(currentPage)">First (1)</a></li>
                <li class="page-item {{n == currentPage ? 'disabled' : ''}}" *ngFor="let n of linkArray;">
                    <a class="page-link" (click)="currentPage = n; currentGameList = getPageOfItems(currentPage)">{{n}}</a></li>
                <li class="page-item {{linkArray[linkArray.length - 1] == numberOfPages ? 'disabled hidden' : ''}}"><a class="page-link" 
                    (click)="currentPage = numberOfPages; currentGameList = getPageOfItems(currentPage)">Last ({{numberOfPages}})</a></li>
            </ul>
        </nav>
    </div>
</div>

<ng-template #problem_loading> 
    <div class="my-5 p-3 border-start border-warning bg-dark">
        <p><b>There was a problem loading this Steam profile's game list.</b>   Ensure the profile has its visibility set to public.</p>
    </div>
</ng-template>
